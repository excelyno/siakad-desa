# ğŸ›ï¸ SIAKAD Desa - Sistem Informasi Administrasi Desa

![Next.js](https://img.shields.io/badge/Next.js-14-black?style=for-the-badge&logo=next.js&logoColor=white) 
![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue?style=for-the-badge&logo=typescript&logoColor=white) 
![Supabase](https://img.shields.io/badge/Supabase-Backend-green?style=for-the-badge&logo=supabase&logoColor=white) 
![TailwindCSS](https://img.shields.io/badge/Tailwind_CSS-38bdf8?style=for-the-badge&logo=tailwind-css&logoColor=white)

**SIAKAD Desa** adalah aplikasi web modern yang dirancang untuk mendigitalkan pelayanan administrasi desa. Aplikasi ini memfasilitasi warga untuk mengajukan surat pengantar secara online dan memudahkan perangkat desa (Admin) dalam memverifikasi serta mencetak surat-surat tersebut secara efisien.

---

## ğŸŒŸ Fitur Utama

### ğŸ‘¤ Warga (User)
- **Otentikasi Aman**: Login dan Register yang aman menggunakan Email (Supabase Auth).
- **Manajemen Profil**: Pengelolaan data diri (NIK, No. HP, Alamat) yang terintegrasi otomatis ke dalam surat.
- **Pengajuan Surat**: Akses mudah ke form pengajuan berbagai jenis surat (Surat Pengantar, Keterangan Usaha, dll).
- **Riwayat Pengajuan**: Pantau status pengajuan (Pending, Disetujui, Ditolak) secara *real-time*.
- **Cetak Mandiri**: Kemudahan mencetak surat yang telah disetujui langsung dari dashboard pengguna.

### ğŸ›¡ï¸ Admin (Perangkat Desa)
- **Dashboard Admin**: Ringkasan komprehensif mengenai pengajuan surat masuk.
- **Verifikasi**: Kontrol penuh untuk Menerima (Approve) atau Menolak (Reject) pengajuan dari warga.
- **Penomoran Surat**: Input nomor surat resmi desa saat menyetujui pengajuan.
- **Cetak Surat**: Fitur cetak (Print) dengan format resmi desa yang terstandarisasi.

---

## ğŸ› ï¸ Teknologi yang Digunakan

- **Frontend**: [Next.js 14/15](https://nextjs.org/) (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS & [Shadcn UI](https://ui.shadcn.com/)
- **Icons**: Lucide React
- **Backend & Database**: [Supabase](https://supabase.com/) (PostgreSQL, Auth, Realtime)
- **Form Handling**: React Hook Form
- **Utilities**: Sonner (Toast Notif), Date-fns

---

## ğŸš€ Panduan Instalasi (Localhost)

Ikuti langkah-langkah berikut untuk menjalankan proyek ini di komputer lokal Anda.

### 1. Clone Repository

Salin repository ini ke komputer Anda:

```bash
git clone https://github.com/username-anda/siakad-desa-app.git
cd siakad-desa-app
```

### 2. Install Dependencies

Install semua library yang dibutuhkan:

```bash
npm install
```

### 3. Konfigurasi Environment Variables

Buat file `.env.local` di root folder proyek, kemudian isi dengan kredensial Supabase Anda:

```env
NEXT_PUBLIC_SUPABASE_URL=https://project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJh... (Masukkan Public Key Anda di sini)
```

### 4. Setup Database (Supabase SQL)

Buka **SQL Editor** di Dashboard Supabase Anda, dan jalankan query berikut untuk membuat tabel-tabel yang dibutuhkan:

```sql
-- 1. Tabel Profiles (Otomatis dibuat saat user signup via Trigger)
create table public.profiles (
  id uuid references auth.users on delete cascade not null primary key,
  email text,
  full_name text,
  nik text,
  phone text,
  address text,
  role text default 'user', -- 'user' or 'admin'
  updated_at timestamp with time zone
);

-- 2. Tabel Jenis Surat
create table public.letter_types (
  id bigint generated by default as identity primary key,
  name text not null, -- Contoh: 'Surat Pengantar KTP', 'SKCK'
  template_content text -- Opsional
);

-- 3. Tabel Pengajuan Surat (Requests)
create table public.letter_requests (
  id bigint generated by default as identity primary key,
  user_id uuid references public.profiles(id) not null,
  letter_type_id bigint references public.letter_types(id),
  status text default 'pending', -- 'pending', 'approved', 'rejected'
  form_data jsonb, -- Menyimpan data spesifik surat (keperluan, dll)
  letter_number text, -- Diisi admin saat approve
  created_at timestamp with time zone default timezone('utc'::text, now()) not null
);

-- 4. Enable Row Level Security (RLS) - Penting untuk keamanan!
alter table profiles enable row level security;
alter table letter_requests enable row level security;

-- (Tambahkan Policy sesuai kebutuhan, misal User hanya bisa lihat datanya sendiri)
```

### 5. Jalankan Server

Jalankan server pengembangan:

```bash
npm run dev
```

Buka [http://localhost:3000](http://localhost:3000) di browser Anda untuk melihat aplikasi berjalan.

---

## ğŸ“‚ Struktur Folder

Berikut adalah gambaran umum struktur folder proyek:

```text
src/
â”œâ”€â”€ app/                 # Halaman Next.js (App Router)
â”‚   â”œâ”€â”€ dashboard/       # Halaman User (Profile, History, Request)
â”‚   â”œâ”€â”€ admin/           # Halaman Admin
â”‚   â”œâ”€â”€ login/           # Auth Pages
â”‚   â””â”€â”€ layout.tsx       # Root Layout
â”œâ”€â”€ components/          # Komponen UI (Card, Button, Navbar)
â”‚   â”œâ”€â”€ ui/              # Shadcn UI Components
â”‚   â””â”€â”€ PrintButton.tsx  # Komponen Cetak
â”œâ”€â”€ lib/                 # Utilitas lama (Deprecated)
â”œâ”€â”€ utils/               
â”‚   â””â”€â”€ supabase/        # Supabase Client (Singleton Pattern)
â””â”€â”€ middleware.ts        # Proteksi Route (Auth Guard)
```

---
## ğŸ¤ Kontribusi

Pull Request sangat dipersilakan. Untuk perubahan besar, harap buka **Issue** terlebih dahulu untuk mendiskusikan apa yang ingin Anda ubah atau tambahkan.

